ACTOR PlayerBubble : Bubble
{
	States
	{
	Spawn:
		SBUB A 1 NODELAY A_ChangeVelocity(0,0,random(1,3),CVF_RELATIVE)
		Goto Super::Spawn
	}
}

ACTOR BubbleSpawner
{
	//$Category Special Effects (BoA)
	//$Title Underwater Bubble Spawner
	//$Color 12
	//$Sprite SBUBA0
	Radius 2
	Height 2
	+NOINTERACTION
	States
	{
	Spawn:
		TNT1 A 0 NODELAY A_JumpIf(CallACS("BubbleSwitch")==0,"EndSpawn")
		TNT1 A 0 A_CheckSightOrRange(1280,"Unsighted") //needed for more tweaks
		TNT1 A 2 A_SpawnItemEx("Bubble", random (-16, 16), 0, 0, 0, 0, 2, random (0, 360), 0, 128)
		Loop
	EndSpawn:
		TNT1 A 1
		Stop
	Unsighted:
		TNT1 A 25
		Goto Spawn
	}
}